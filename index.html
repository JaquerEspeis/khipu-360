<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Khipu 360</title>

    <script src="scripts/aframe.min.js"></script>

    <script src="scripts/aframe-template-component.min.js"></script>
    <script src="scripts/aframe-animation-timeline-component.min.js"></script>

    <script src="scripts/controller.js"></script>

    <link href="styles/index.css"  rel="stylesheet" type="text/css">
  </head>
  <body>
    <div id="root"
         style="background: #000; z-index: 999 !important; cursor: pointer; position: absolute; top: 0; left: 0;"
         onclick="javascript:start()">
      <svg style="width:50px;height:50px" viewBox="0 0 24 24">
        <path fill="#FFFFFF" d="M8,5.14V19.14L19,12.14L8,5.14Z">
      </path></svg>
    </div>

    <a-scene>
      <a-assets>
        <!-- Images -->
        <a-entity id="assets-template-instructions" template="src: src/assets/images/instructions.html"></a-entity>
        <a-entity template="src: src/assets/images/backgrounds.html"></a-entity>
        <a-entity template="src: src/assets/images/characters.html"></a-entity>
        <a-entity template="src: src/assets/images/teleports.html"></a-entity>
        <!-- Background audios -->
	      <audio id="audio-background-scene1" src="audios/background/scene1.mp3"></audio>
      </a-assets>

      <a-camera id="camera" wasd-controls-enabled="true"
		            position="0 0 0">
      </a-camera>

      <!-- Instructions -->
      <a-entity id="instructions"
                animation-timeline="timeline: #instructions-timeline; startEvents: startInstructions"
                intro="">

        <a-sky id="sky-instructions" color="#000" visible="true"></a-sky>

        <a-entity id="instructions-headset"
                  template="src: src/templates/instructions.template"
                  data-id-instructions="instructions-headset"
                  data-img-src-instructions="#img-instructions-headset"
                  data-text="Ponete auriculares para una mejor experiencia\nUse your headset for a better experience">
        </a-entity>

        <a-entity id="instructions-cardboard"
                  template="src: src/templates/instructions.template"
                  data-id-instructions="instructions-cardboard"
                  data-img-src-instructions="#img-instructions-cardboard"
                  data-text="Coloca tu dispositivo en el Cardboard\nPlace your device in the Cardboard">
        </a-entity>

        <a-entity id="instructions-rotation"
                  template="src: src/templates/instructions.template"
                  data-id-instructions="instructions-rotation"
                  data-img-src-instructions="#img-instructions-rotation"
                  data-text="Vas a poder moverte libremente todo el tiempo\nYou'll be able to move freely all the time">
        </a-entity>

        <a-timeline id="instructions-timeline">
          <a-timeline-group>
            <a-timeline-animation select="#instructions-headset-img" name="opacity_start"></a-timeline-animation>
            <a-timeline-animation select="#instructions-headset-img" name="rotation"></a-timeline-animation>
            <a-timeline-animation select="#instructions-headset-text" name="opacity_start"></a-timeline-animation>
          </a-timeline-group>
          <a-timeline-group>
            <a-timeline-animation select="#instructions-headset-img" name="opacity_stop"></a-timeline-animation>
            <a-timeline-animation select="#instructions-headset-text" name="opacity_stop"></a-timeline-animation>
          </a-timeline-group>
          <a-timeline-group>
            <a-timeline-animation select="#instructions-cardboard-img" name="opacity_start"></a-timeline-animation>
            <a-timeline-animation select="#instructions-cardboard-img" name="rotation"></a-timeline-animation>
            <a-timeline-animation select="#instructions-cardboard-text" name="opacity_start"></a-timeline-animation>
          </a-timeline-group>
          <a-timeline-group>
            <a-timeline-animation select="#instructions-cardboard-img" name="opacity_stop"></a-timeline-animation>
            <a-timeline-animation select="#instructions-cardboard-text" name="opacity_stop"></a-timeline-animation>
          </a-timeline-group>
          <a-timeline-group>
            <a-timeline-animation select="#instructions-rotation-img" name="opacity_start"></a-timeline-animation>
            <a-timeline-animation select="#instructions-rotation-img" name="rotation"></a-timeline-animation>
            <a-timeline-animation select="#instructions-rotation-text" name="opacity_start"></a-timeline-animation>
          </a-timeline-group>
          <a-timeline-group>
            <a-timeline-animation select="#instructions-rotation-img" name="opacity_stop"></a-timeline-animation>
            <a-timeline-animation select="#instructions-rotation-text" name="opacity_stop"></a-timeline-animation>
          </a-timeline-group>
        </a-timeline>

      </a-entity>

      <!-- Scene 1 -->
      <a-entity id="scene1"
                visible="false"
                template="src: src/templates/scene.template"
                data-img-src-sky="#img-medialab"
                data-audio-src-background="#audio-background-scene1"
                data-img-src-anao="#anao-front"
                data-img-src-anap="#anap-front"
                data-img-src-coni="#coni-front"
                data-img-src-danie="#danie-front">
      </a-entity>

    </a-scene>

  </body>
</html>
