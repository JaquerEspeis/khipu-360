<a-entity id="scene1"
          scene1=""
          visible="false"
          animation-timeline="timeline: #timeline-scene1; startEvents: startScene1">

  <!-- 360 background image -->
  <a-sky radius="5" src="#img-medialab"
         rotation="0 -90 0"
	       visible="true">
  </a-sky>

  <!-- Background audio -->
  <a-sound id="scene1-sound-background"
           src="#scene1-audio-background"
           autoplay="false"
           loop="true"
           position="-3 -1 5"
           animation__volume_reduce="property: volume; dur: 3000; from: 1; to:0.1; autoplay: false"
           animation__volume_raise="property: volume; dur: 3000; from: 0.1; to:1; autoplay: false; startEvents: scene1_volume_raise">
  </a-sound>

  <!-- Characters -->
  <a-entity template="src: src/templates/walking.template"
            data-name="anao"
            data-initial-position="1 -1 -2"
            data-final-position="1.3 -1 -1.5">
  </a-entity>
  <a-entity template="src: src/templates/walking.template"
            data-name="anap"
            data-initial-position="-3 -1 -2"
            data-final-position="-0.15 -1 -1.5">
  </a-entity>
  <a-entity template="src: src/templates/walking.template"
            data-name="coni"
            data-initial-position="-0.75 -1 -3"
            data-final-position="0.70 -1 -1.5">
  </a-entity>
  <a-entity template="src: src/templates/walking.template"
            data-name="danie"
            data-initial-position="-2 -1 2"
            data-final-position="-1.15 -1 -1.25">
  </a-entity>


  <!-- Teleport -->
  <!-- TODO: add the glow.
       --elopio - 20210321
  -->
  <a-entity id="scene1-teleport"
            position="3.5 0 -0.5"
            transparent="true"
            visible="true"
            material="transparent: true; opacity: 0"
            geometry="primitive: sphere; radius: 0.8"
            animation__mouseenter="property: material.opacity; startEvents: mouseenter; easing: easeInCubic; dur: 500; from: 0; to: 0.5"
            animation__mouseleave="property: material.opacity; startEvents: mouseleave; easing: easeInCubic; dur: 500; from: 0.5; to: 0">
	  <a-image id="scene1-image-teleport"
             src="#img-teleport"
             rotation="0 90 0"
             visible="true"
		         opacity="0"
             animation__opacity_start="property: opacity; from: 0; to: 1; dur: 3000; autoplay: false"
             animation__rotation="property: rotation; from: 0 0 0; to: 0 360 0; dur: 5000; easing: linear; loop: true; autoplay: true">
	  </a-image>

    <!-- Sound effect -->
    <a-sound id="scene1-sound-effect" src="#scene1-audio-effect"
		         autoplay="false">
	  </a-sound>

  </a-entity>

  <a-timeline id="timeline-scene1">
    <a-timeline-animation select="#scene1-sound-background"
                          name="volume_reduce"
                          offset="3000">
    </a-timeline-animation>
    <a-timeline-animation select="#scene1-image-teleport"
                          name="opacity_start">
    </a-timeline-animation>
    <a-timeline-group>
      <a-timeline-animation select="#scene1-gif-anao-walk"
                            name="visibility_start">
      </a-timeline-animation>
      <a-timeline-animation select="#scene1-gif-anao-walk"
                            name="move">
      </a-timeline-animation>
      <a-timeline-animation select="#scene1-image-anao"
                            name="visibility_stop">
      </a-timeline-animation>

      <a-timeline-animation select="#scene1-gif-anap-walk"
                            name="visibility_start">
      </a-timeline-animation>
      <a-timeline-animation select="#scene1-gif-anap-walk"
                            name="move">
      </a-timeline-animation>
      <a-timeline-animation select="#scene1-image-anap"
                            name="visibility_stop">
      </a-timeline-animation>

      <a-timeline-animation select="#scene1-gif-coni-walk"
                            name="visibility_start">
      </a-timeline-animation>
      <a-timeline-animation select="#scene1-gif-coni-walk"
                            name="move">
      </a-timeline-animation>
      <a-timeline-animation select="#scene1-image-coni"
                            name="visibility_stop">
      </a-timeline-animation>

      <a-timeline-animation select="#scene1-gif-danie-walk"
                            name="visibility_start">
      </a-timeline-animation>
      <a-timeline-animation select="#scene1-gif-danie-walk"
                            name="move">
      </a-timeline-animation>
      <a-timeline-animation select="#scene1-image-danie"
                            name="visibility_stop">
      </a-timeline-animation>
    </a-timeline-group>

  </a-timeline>

</a-entity>
